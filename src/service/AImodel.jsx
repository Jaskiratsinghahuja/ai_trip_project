import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

  export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a couple visiting Las Vegas on a budget for 3 days, including hotel options and a detailed itinerary.  I've focused on free and low-cost activities, taking into account travel times and optimal visit times.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 45,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/33/0b/a1/circus-circus-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1255,\n        \"longitude\": -115.1678\n      },\n      \"rating\": 3.5,\n      \"description\": \"Budget-friendly hotel on the Strip with circus acts, a theme park, and multiple dining options.  Expect crowds and older facilities, but good value for the price.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 55,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/01/72/b9/excalibur-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0982,\n        \"longitude\": -115.1742\n      },\n      \"rating\": 4.0,\n      \"description\": \"Medieval-themed hotel on the south end of the Strip.  Offers affordable rooms, several restaurants, a pool complex, and nightly shows. Good for families and budget travelers.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": 40,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/15/2b/79/c9/the-strat-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1467,\n        \"longitude\": -115.1557\n      },\n      \"rating\": 3.0,\n      \"description\": \"Located at the north end of the Strip, the Stratosphere offers budget-friendly accommodations. Known for its iconic tower with thrill rides and panoramic views (tower access is an extra cost).\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South to Center)\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign at the south end of the Strip.  A must-see photo opportunity.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Welcome_to_Las_Vegas_sign.JPG/1280px-Welcome_to_Las_Vegas_sign.JPG\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"bestTimeToVisit\": \"Early morning (before 9 AM) to avoid crowds or at sunset for nice lighting.\",\n          \"travelTimeFromPrevious\": \"N/A (Starting Point)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful seasonal floral displays inside the Bellagio.  Completely free to enter.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-garden-2017-autumn-main.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1762\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"bestTimeToVisit\": \"Mid-morning (10 AM - 12 PM) or late afternoon (3 PM - 5 PM) to avoid peak crowds.\",\n          \"travelTimeFromPrevious\": \"15-20 minutes (walking or bus)\"\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Spectacular water show synchronized to music.  Free to watch. Runs every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-full-stage.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1760\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"bestTimeToVisit\": \"Evening (after sunset) for the best viewing experience with the lights.\",\n          \"travelTimeFromPrevious\": \"2 minutes (walking)\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional)\",\n          \"placeDetails\": \"Giant observation wheel offering stunning views of the city.  Ticket price may be higher depending on when you go.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/clv/Things%20To%20Do/attractions/high-roller/CLV_HighRoller_Exterior_Night_1920x1080.tif\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1148,\n            \"longitude\": -115.1694\n          },\n          \"ticketPricing\": \"Varies (check online for deals)\",\n          \"rating\": 4.3,\n          \"bestTimeToVisit\": \"Evening for the best views of the strip at night\",\n          \"travelTimeFromPrevious\": \"15-20 minutes (walking)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas and Free Attractions\",\n      \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light and sound show on a pedestrian mall in Downtown Las Vegas.  Free to watch.\",\n          \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2019/03/fremont-street-experience-overview.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1426\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"bestTimeToVisit\": \"Evening (after dark) for the Viva Vision light shows.\",\n          \"travelTimeFromPrevious\": \"N/A (Starting Point - Requires a bus or rideshare from the Strip)\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Unique outdoor shopping and entertainment venue made from shipping containers.  Free to enter (some attractions have fees).\",\n          \"placeImageUrl\": \"https://downtowncontainerpark.com/wp-content/uploads/2018/02/DCP-Night-Exterior-4.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1687,\n            \"longitude\": -115.1404\n          },\n          \"ticketPricing\": \"Free (attractions inside may have fees)\",\n          \"rating\": 4.2,\n          \"bestTimeToVisit\": \"Late afternoon or early evening for shopping and dining.\",\n          \"travelTimeFromPrevious\": \"5-10 minutes (walking)\"\n        },\n        {\n          \"placeName\": \"Seven Magic Mountains (Optional - Requires Transportation)\",\n          \"placeDetails\": \"Colorful rock art installation south of Las Vegas. Requires a car or rideshare. Free to visit.\",\n          \"placeImageUrl\": \"https://sevenmagicmountains.com/wp-content/uploads/2016/05/IMG_8929.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 35.9583,\n            \"longitude\": -115.2375\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.4,\n          \"bestTimeToVisit\": \"Sunrise or sunset for the best lighting and fewer crowds.\",\n          \"travelTimeFromPrevious\": \"30-40 minutes driving from Downtown\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Free Attractions and Departure\",\n      \"activities\": [\n        {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Volcano show outside the Mirage Hotel.  Free to watch. Runs several times nightly.\",\n          \"placeImageUrl\": \"https://www.cheapovegas.com/images/locations/miragevolcano.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1211,\n            \"longitude\": -115.1754\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"bestTimeToVisit\": \"Evening (after dark) for the full effect.\",\n          \"travelTimeFromPrevious\": \"N/A (Starting Point)\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Enjoy the sights and sounds of the Las Vegas Strip. Visit hotels like the Venetian, Caesar's Palace, and Paris Las Vegas (exterior views are free).\",\n          \"placeImageUrl\": \"https://afar.com/uploads/images/post_images/images/xVpEALz40N/original_vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1726\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"bestTimeToVisit\": \"Morning (before it gets too hot) or evening.\",\n          \"travelTimeFromPrevious\": \"Variable - Allow several hours to walk the Strip\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden (Optional)\",\n          \"placeDetails\": \"Free chocolate factory tour and a beautiful cactus garden. Located a bit off the Strip (requires transportation).\",\n          \"placeImageUrl\": \"https://www.ethelm.com/on/demandware.static/-/Sites-ethel-master-catalog/default/dweff7b016/images/cactus-garden/homepage-cactus-garden.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0283,\n            \"longitude\": -115.0458\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.3,\n          \"bestTimeToVisit\": \"Mid-morning to early afternoon.\",\n          \"travelTimeFromPrevious\": \"20-30 minutes (driving) from the Strip\"\n        }\n      ]\n    }\n  },\n  \"notes\": [\n    \"Consider purchasing a Las Vegas Monorail or bus pass for cheaper transportation along the Strip.\",\n    \"Look for free or discounted show tickets online or at discount booths.\",\n    \"Take advantage of free drinks while gambling (but gamble responsibly).\",\n    \"Pack comfortable shoes for walking.\",\n    \"Stay hydrated in the desert climate.\",\n    \"Compare prices and book hotels in advance for better deals.\",\n        \"Utilize free activities like walking around the strip and watching free shows.\"\n  ]\n}\n```\n\n**Important Considerations & Explanations:**\n\n*   **Budget Focus:**  This plan prioritizes free attractions and affordable activities.  Some optional activities have a cost that could be avoided.\n*   **Transportation:**  Las Vegas can be expensive for transportation.  The Monorail and bus passes can save money.  Walking is your friend, but be aware of the distances.  Ridesharing is an option, but factor in surge pricing.\n*   **Hotel Choice:**  The hotel options are selected for their lower price points, but read recent reviews carefully.  Budget hotels can vary significantly in quality.\n*   **Safety:**  Be aware of your surroundings, especially at night, and in crowded areas.\n*   **Flexibility:** This is a suggested itinerary.  Feel free to adjust it to your interests and pace.\n*   **Booking:**  Book hotels and any paid attractions in advance, especially during peak season, for the best prices.\n*   **Prices:** Hotel and ride prices may vary depending on time and season. Please check the prices on the internet and finalize your trip.\n\n**How to use this JSON:**\n\n*   **Programmatically:** You can parse this JSON data in any programming language (like Python, JavaScript, etc.) to display the information in a user-friendly format (e.g., a website or mobile app).\n*   **Manually:**  You can simply read the JSON and use the information to create your own itinerary and booking arrangements. You can copy and paste this into a JSON viewer/formatter website (like `jsonformatter.org`) to make it easier to read.\n\nThis detailed plan gives you a solid foundation for a fun and budget-friendly trip to Las Vegas. Remember to adjust it to fit your specific interests and enjoy your vacation!\n"},
          ],
        },
      ],
    });
  
